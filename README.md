# Reflect AI - AI Journaling Companion

A privacy-first AI-powered journaling companion built for the Palo Alto Networks NetSec Hackathon.

## ðŸš€ Live Demo

- **Live Application**: [https://fy-26-net-sec.vercel.app](https://fy-26-net-sec.vercel.app?_vercel_share=iYzNa5WVJGrWw8s0cuRKLoijQJTuYTaC)
- **Demo Video**: [Watch on YouTube](https://youtu.be/UxRMG4uT6XY)

## MVP Features

1. **Daily AI Prompts**: Context-aware prompts generated by Claude AI
2. **Real-Time Sentiment Indicator**: Local AFINN analysis shows sentiment as you type
3. **AI Writing Companion**: Debounced suggestions appear after 2-second typing pause
4. **Theme Extraction**: Automatic identification of topics (work, family, health, etc.)
5. **Sentiment Trends**: Visual charts showing emotional patterns over time
6. **Weekly Summaries**: AI-generated insights from aggregated data
7. **Privacy Controls**: User can disable AI features, export data, delete account

## Tech Stack

- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Database**: PostgreSQL (via Supabase)
- **ORM**: Prisma
- **Authentication**: Supabase Auth
- **AI**: Anthropic Claude API (Sonnet 4)
- **Local AI**: AFINN sentiment analysis, Compromise NLP
- **UI**: shadcn/ui, Tailwind CSS, Recharts
- **Deployment**: Vercel

## Architecture

Reflect AI follows a **7-layer architecture**:
- **UI Layer**: Next.js React components with Server Components by default
- **Communication Layer**: SWR for data fetching, REST API routes, Supabase Auth
- **Backend Services**: API routes with business logic (PII masking, theme extraction, sentiment analysis)
- **AI Processing**: Hybrid approach - Local (AFINN, Compromise NLP) + Cloud (Claude API)
- **Feedback Layer**: Real-time sentiment indicator, AI prompts, writing companion, weekly summaries
- **Data Layer**: Prisma ORM â†’ PostgreSQL (Supabase)
- **Deployment**: Vercel hosting, Supabase database, Anthropic API

**Key Design Principles**:
- **Privacy First**: PII masking before all external API calls
- **Performance**: Local processing for instant feedback, caching for efficiency
- **Type Safety**: 100% TypeScript with strict type checking
- **User Trust**: User controls, data export, transparent privacy practices

## Setup

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd PANW_NetSec
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Set up environment variables**
   ```bash
   cp .env.example .env.local
   ```
   
   Fill in the following variables:
   - `DATABASE_URL`: PostgreSQL connection string (from Supabase)
   - `NEXT_PUBLIC_SUPABASE_URL`: Your Supabase project URL
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`: Your Supabase anonymous key
   - `SUPABASE_SERVICE_ROLE_KEY`: Your Supabase service role key
   - `ANTHROPIC_API_KEY`: Your Anthropic Claude API key
   - `NEXT_PUBLIC_APP_URL`: Your app URL (http://localhost:3000 for dev)

4. **Set up the database**
   ```bash
   npx prisma db push
   npx prisma generate
   ```

5. **Run the development server**
   ```bash
   npm run dev
   ```

6. **Open your browser**
   Navigate to [http://localhost:3000](http://localhost:3000)

## Key Features Implementation

### Privacy-First Architecture
- PII masking (emails, phones, SSNs, credit cards, addresses) before Claude API calls
- Local sentiment analysis using AFINN (no external API calls)
- User controls for AI features and data export

### Hybrid AI Processing
- **Local**: AFINN sentiment analysis + Compromise NLP theme extraction (instant feedback)
- **Cloud**: Claude API for prompts, suggestions, and summaries (with PII masking)

### Context-Aware Prompts
- Generated based on entry history, themes, and sentiment patterns
- Personalized experience that reduces blank page anxiety

## API Routes

- `GET/POST /api/entries` - Entry CRUD operations
- `GET/PUT/DELETE /api/entries/[id]` - Single entry operations
- `GET /api/ai/prompt` - Generate daily prompt
- `POST /api/ai/suggest` - Get AI suggestion
- `GET /api/ai/summary/weekly` - Generate weekly summary
- `PUT /api/user/preferences` - Update user preferences
- `GET /api/user/export` - Export user data
- `DELETE /api/user/delete` - Delete user account

## License

MIT

## Acknowledgments

Built for Palo Alto Networks NetSec Hackathon 2026.
